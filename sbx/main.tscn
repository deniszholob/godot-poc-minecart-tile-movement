[gd_scene load_steps=8 format=3 uid="uid://dincjyncmmnk1"]

[ext_resource type="TileSet" uid="uid://bharj5o7bmhwc" path="res://assets/kenney-dungeon-rail_wang-fence-inside-corners_TileSet.tres" id="1_fegn0"]
[ext_resource type="Script" path="res://components/debug/tile-map-debug.component.gd" id="2_pi2c4"]
[ext_resource type="PackedScene" uid="uid://dii6nj2ouo7g0" path="res://sbx/scenes/mine-cart/mine-cart.tscn" id="3_6glw8"]
[ext_resource type="Script" path="res://components/input/input-device-direction.component.gd" id="4_twfjr"]
[ext_resource type="Script" path="res://components/movement/move-character-body-2d.component.gd" id="5_ef1rx"]
[ext_resource type="Script" path="res://sbx/scenes/locomotive/locomotive2.gd" id="6_b5vvi"]
[ext_resource type="Texture2D" uid="uid://dit0v1dnd4e8s" path="res://assets/mine-cart.png" id="7_g4aav"]

[node name="Main" type="Node2D"]

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_fegn0")
format = 2
layer_0/tile_data = PackedInt32Array(-65538, 65537, 0, -2, 196609, 1, 65534, 1, 1, 131070, 65537, 2, 131071, 131073, 3, 65536, 131073, 3, 65537, 196609, 2, 1, 65537, 1, -65535, 1, 1, -131071, 196609, 0, -131072, 131073, 3, -65537, 131073, 3, 2, 131073, 3, 3, 131073, 3, 4, 131073, 1, -3, 131073, 3, -4, 65537, 0, 65540, 1, 1, 131076, 65537, 1, 196612, 1, 1, 262148, 196609, 2, 262147, 131073, 3, 262146, 131073, 3, 262145, 131073, 3, 262144, 131073, 3, 327679, 131073, 3, 327678, 131073, 3, 327677, 131073, 3, 327676, 65537, 2, 262140, 1, 1, 196604, 1, 1, 131068, 1, 1, 65532, 1, 1, -65532, 1, 1, -131068, 1, 1, 5, 131073, 3, 6, 131073, 3, 7, 196609, 2, -65529, 1, 1, -131065, 196609, 0, -131066, 65537, 2, -196602, 196609, 0, -196603, 131073, 3, -196604, 65537, 0, 131077, 131073, 3, 131078, 131073, 3, 131079, 131073, 3, 131080, 131073, 3, 131081, 196609, 3)

[node name="TileMapDebugComponent" type="Node" parent="TileMap" node_paths=PackedStringArray("tile_map")]
script = ExtResource("2_pi2c4")
tile_map = NodePath("..")

[node name="MineCart" parent="." node_paths=PackedStringArray("_rail_tilemap") instance=ExtResource("3_6glw8")]
position = Vector2(-56, 40)
_rail_tilemap = NodePath("../TileMap")

[node name="InputDeviceDirectionComponent" type="Node" parent="MineCart"]
unique_name_in_owner = true
script = ExtResource("4_twfjr")

[node name="MoveCharacterBody2DComponent" type="Node" parent="MineCart" node_paths=PackedStringArray("actor")]
unique_name_in_owner = true
script = ExtResource("5_ef1rx")
actor = NodePath("..")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(3, 3)

[node name="CharacterBody2D" type="CharacterBody2D" parent="." node_paths=PackedStringArray("tile_map", "input_device_direction", "state_label", "intended_direction_label", "intended_acceleration_label", "direction_label", "acceleration_label", "speed_label", "velocity_label")]
visible = false
position = Vector2(-56, 24)
motion_mode = 1
script = ExtResource("6_b5vvi")
tile_map = NodePath("../TileMap")
input_device_direction = NodePath("InputDeviceDirectionComponent")
state_label = NodePath("../CanvasLayer/VBoxContainer/HBoxState/StateLabelValue")
intended_direction_label = NodePath("../CanvasLayer/VBoxContainer/HBoxIntendedDirection/IndendedDirectionLabelValue")
intended_acceleration_label = NodePath("../CanvasLayer/VBoxContainer/HBoxIntendedAcceleration/IndendedAccelerationLabelValue")
direction_label = NodePath("../CanvasLayer/VBoxContainer/HBoxDirection/DirectionLabelValue")
acceleration_label = NodePath("../CanvasLayer/VBoxContainer/HBoxAcceleration/AccelerationLabelValue")
speed_label = NodePath("../CanvasLayer/VBoxContainer/HBoxSpeed/SpeedLabelValue")
velocity_label = NodePath("../CanvasLayer/VBoxContainer/HBoxVelocity/VelocityLabelValue")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
texture = ExtResource("7_g4aav")
hframes = 2
vframes = 2

[node name="InputDeviceDirectionComponent" type="Node" parent="CharacterBody2D"]
script = ExtResource("4_twfjr")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
scale = Vector2(0.5, 0.5)
transform = Transform2D(0.5, 0, 0, 0.5, 0, 0)
follow_viewport_enabled = true

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer"]
offset_left = -368.0
offset_top = -208.0
offset_right = -171.0
offset_bottom = -23.0

[node name="HBoxState" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="StateLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxState"]
layout_mode = 2
text = "State: "

[node name="StateLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxState"]
layout_mode = 2
text = "0"

[node name="HBoxIntendedDirection" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="IndendedDirectionLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxIntendedDirection"]
layout_mode = 2
text = "Intended Direction: "

[node name="IndendedDirectionLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxIntendedDirection"]
layout_mode = 2
text = "0"

[node name="HBoxIntendedAcceleration" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="IndendedAccelerationLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxIntendedAcceleration"]
layout_mode = 2
text = "Intended Acceleration: "

[node name="IndendedAccelerationLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxIntendedAcceleration"]
layout_mode = 2
text = "0"

[node name="HBoxDirection" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="DirectionLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxDirection"]
layout_mode = 2
text = "Direction: "

[node name="DirectionLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxDirection"]
layout_mode = 2
text = "0"

[node name="HBoxAcceleration" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="AccelerationLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxAcceleration"]
layout_mode = 2
text = "Acceleration: "

[node name="AccelerationLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxAcceleration"]
layout_mode = 2
text = "0"

[node name="HBoxSpeed" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="SpeedLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxSpeed"]
layout_mode = 2
text = "Speed: "

[node name="SpeedLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxSpeed"]
layout_mode = 2
text = "0"

[node name="HBoxVelocity" type="HBoxContainer" parent="CanvasLayer/VBoxContainer"]
layout_mode = 2

[node name="VelocityLabel" type="Label" parent="CanvasLayer/VBoxContainer/HBoxVelocity"]
layout_mode = 2
text = "Velocity: "

[node name="VelocityLabelValue" type="Label" parent="CanvasLayer/VBoxContainer/HBoxVelocity"]
layout_mode = 2
text = "0"
